-- Kaitun-99night.lua

-- CONFIG: link chứa danh sách key hợp lệ (mỗi key 1 dòng)
local KEY_LIST_URL = "https://raw.githubusercontent.com/baozhubcommunity-riel/Keylist/refs/heads/main/Keylist"

-- Lấy service
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

-- Hàm kiểm tra key
local function verifyKey(key)
    if not key or key == "" then
        return false, "Chưa nhập key"
    end

    local ok, data = pcall(function()
        return game:HttpGet(https://raw.githubusercontent.com/baozhubcommunity-riel/Keylist/refs/heads/main/Keylist)
    end)
    if not ok then
        return false, "Không thể tải danh sách key"
    end

    for line in string.gmatch(data, "[^\r\n]+") do
        line = line:gsub("^%s+", ""):gsub("%s+$", "")
        if line == key then
            return true
        end
    end

    return false, "Key không hợp lệ"
end

-- Gọi kiểm tra
local success, err = verifyKey(getgenv().Key)

if not success then
    warn("[KEY] " .. tostring(err))
    LocalPlayer:Kick("Key không hợp lệ hoặc lỗi: " .. tostring(err))
    return
end

print("[KEY] ✅ Key hợp lệ! Tiếp tục chạy script...")

--------------------------------------------------
-- Phần code chính của Kaitun-99night.lua ở dưới đây
--------------------------------------------------

-- Ví dụ:
print("Script Kaitun-99night đã chạy thành công sau khi verify key!")
